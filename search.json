{"config":{"separator":"[\\s\\-_,:!=\\[\\]()\\\\\"`/]+|\\.(?!\\d)"},"items":[{"location":"","level":1,"title":"aform-rs","text":"<p>Terminal-based Stockholm alignment editor for RNA, DNA, and protein sequences with vim-style modal editing.</p> <p></p>","path":["aform-rs"],"tags":[]},{"location":"#features","level":2,"title":"Features","text":"<ul> <li>Vim-style editing - Modal editing with Normal, Insert, Visual, and Command modes</li> <li>RNA/DNA/Protein support - Auto-detects sequence type with appropriate coloring</li> <li>RNA structure - Base pair highlighting from SS_cons annotations</li> <li>Color schemes - Structure, nucleotide, amino acid, conservation, and compensatory coloring</li> <li>Annotation bars - Consensus sequence and conservation level visualization</li> <li>Collapse identical - Group and collapse identical sequences</li> <li>Block selection - Visual block mode for rectangular selections</li> <li>Undo/redo - Full history with efficient copy-on-write sequences</li> <li>Sequence clustering - Cluster sequences by similarity with dendrogram visualization</li> </ul>","path":["aform-rs"],"tags":[]},{"location":"#clustering-with-dendrogram","level":3,"title":"Clustering with Dendrogram","text":"<p>Cluster sequences by similarity and visualize relationships with an ASCII dendrogram tree.</p> <p></p>","path":["aform-rs"],"tags":[]},{"location":"#annotation-bars","level":3,"title":"Annotation Bars","text":"<p>Display consensus sequence and conservation levels below the alignment.</p> <p></p>","path":["aform-rs"],"tags":[]},{"location":"#protein-support","level":3,"title":"Protein Support","text":"<p>Auto-detects protein sequences and enables amino acid coloring (Taylor scheme), consensus, and conservation bar automatically.</p> <p></p>","path":["aform-rs"],"tags":[]},{"location":"#structure-coloring","level":3,"title":"Structure Coloring","text":"","path":["aform-rs"],"tags":[]},{"location":"#visual-block-selection","level":3,"title":"Visual Block Selection","text":"","path":["aform-rs"],"tags":[]},{"location":"#quick-start","level":2,"title":"Quick Start","text":"<pre><code># Open a Stockholm file\naform alignment.stk\n\n# With structure coloring\naform --color structure alignment.stk\n\n# Protein files auto-enable coloring, consensus, and conservation\naform protein.stk\n</code></pre> <p>Press <code>?</code> for help within the editor.</p>","path":["aform-rs"],"tags":[]},{"location":"configuration/","level":1,"title":"Configuration","text":"<p>aform-rs can be customized via a TOML configuration file. The application looks for configuration in the following locations (in order):</p> <ol> <li><code>./aform.toml</code> (current directory)</li> <li><code>~/.config/aform/aform.toml</code> (XDG config directory)</li> </ol>","path":["Configuration"],"tags":[]},{"location":"configuration/#color-formats","level":2,"title":"Color Formats","text":"<p>Colors can be specified in three formats (you can mix them freely):</p> Format Example Description RGB <code>\"255,128,0\"</code> Comma-separated RGB values Hex <code>\"#FF8000\"</code> Standard hex color (case-insensitive) Verbose <code>{ r = 255, g = 128, b = 0 }</code> Explicit field notation","path":["Configuration"],"tags":[]},{"location":"configuration/#partial-configuration","level":2,"title":"Partial Configuration","text":"<p>You only need to specify the settings you want to change. Any omitted settings will use the default values:</p> <pre><code>[theme.border]\nactive = \"255,165,0\"  # Just change the active border to orange\n</code></pre>","path":["Configuration"],"tags":[]},{"location":"configuration/#default-configuration","level":2,"title":"Default Configuration","text":"<p>Below is the complete default configuration:</p> <pre><code># aform.toml - aform-rs configuration file\n\n# Border Colors\n[theme.border]\nactive = \"0,255,255\"      # Cyan\ninactive = \"128,128,128\"  # Gray\n\n# Ruler Colors\n[theme.ruler]\nnumbers = \"128,128,128\"   # Gray\nticks = \"128,128,128\"     # Gray\npair_line = \"255,0,255\"   # Magenta - base pair connection\n\n# Status Bar Colors\n[theme.status_bar]\nbackground = \"128,128,128\"\nposition = \"255,255,255\"\nalignment_info = \"0,255,255\"\nsequence_type = \"0,128,0\"\ncolor_scheme = \"255,0,255\"\nstructure_info = \"255,255,0\"\nselection_info = \"173,216,230\"\n\n# Mode indicators\nnormal_bg = \"0,0,255\"\nnormal_fg = \"255,255,255\"\ninsert_bg = \"0,128,0\"\ninsert_fg = \"0,0,0\"\ncommand_bg = \"255,255,0\"\ncommand_fg = \"0,0,0\"\nsearch_bg = \"255,0,255\"\nsearch_fg = \"255,255,255\"\nvisual_bg = \"100,100,180\"\nvisual_fg = \"255,255,255\"\n\n# ID Column Colors\n[theme.id_column]\ntext = \"0,255,255\"\nselected_bg = \"80,80,140\"\nselected_fg = \"255,255,255\"\n\n# Annotation Bar Colors\n[theme.annotations]\nss_cons_fg = \"255,255,0\"\nss_cons_bg = \"30,30,40\"\nss_cons_paired_fg = \"0,0,0\"\nss_cons_paired_bg = \"255,255,0\"\nrf_conserved_fg = \"0,128,0\"\nrf_conserved_bg = \"30,40,30\"\nrf_variable_fg = \"128,128,128\"\nrf_variable_bg = \"30,30,30\"\npp_cons_bg = \"30,30,40\"\nconsensus_fg = \"0,255,255\"\nconsensus_bg = \"30,40,30\"\nconservation_bg = \"40,30,40\"\nlabel_ss_cons_fg = \"255,255,0\"\nlabel_rf_fg = \"0,128,0\"\nlabel_pp_cons_fg = \"255,255,0\"\nlabel_consensus_fg = \"0,255,255\"\nlabel_conservation_fg = \"255,0,255\"\n\n# Selection and Highlight Colors\n[theme.selection]\nvisual_bg = \"80,80,140\"\nvisual_fg = \"255,255,255\"\nsearch_current_bg = \"255,255,0\"\nsearch_current_fg = \"0,0,0\"\nsearch_other_bg = \"100,100,50\"\nsearch_other_fg = \"255,255,255\"\npair_highlight_bg = \"255,0,255\"\npair_highlight_fg = \"255,255,255\"\ngap_column_bg = \"80,50,50\"\n\n# Command Line Colors\n[theme.command_line]\ncommand_prefix = \"255,255,0\"\nsearch_prefix = \"255,0,255\"\nhelp_hint = \"128,128,128\"\n\n# Miscellaneous Colors\n[theme.misc]\nseparator = \"128,128,128\"\ntree_dark_theme = \"255,255,255\"\ntree_light_theme = \"0,0,0\"\n</code></pre>","path":["Configuration"],"tags":[]},{"location":"configuration/#example-high-contrast-theme","level":2,"title":"Example: High Contrast Theme","text":"<pre><code>[theme.border]\nactive = \"0,255,0\"\ninactive = \"100,100,100\"\n\n[theme.selection]\nvisual_bg = \"0,100,200\"\nsearch_current_bg = \"255,200,0\"\npair_highlight_bg = \"255,100,100\"\n</code></pre>","path":["Configuration"],"tags":[]},{"location":"configuration/#example-solarized-inspired-theme","level":2,"title":"Example: Solarized-Inspired Theme","text":"<pre><code>[theme.border]\nactive = \"38,139,210\"    # Solarized blue\ninactive = \"88,110,117\"  # Solarized base01\n\n[theme.status_bar]\nbackground = \"7,54,66\"\nnormal_bg = \"38,139,210\"\ninsert_bg = \"133,153,0\"\ncommand_bg = \"181,137,0\"\nsearch_bg = \"211,54,130\"\nvisual_bg = \"108,113,196\"\n</code></pre>","path":["Configuration"],"tags":[]},{"location":"configuration/#example-using-hex-format","level":2,"title":"Example: Using Hex Format","text":"<p>You can also use hex colors if preferred:</p> <pre><code>[theme.border]\nactive = \"#00FFFF\"\ninactive = \"#808080\"\n</code></pre>","path":["Configuration"],"tags":[]},{"location":"installation/","level":1,"title":"Installation","text":"","path":["Installation"],"tags":[]},{"location":"installation/#pre-built-binaries","level":2,"title":"Pre-built Binaries","text":"<p>Download the latest release for your platform from the releases page.</p> Platform Download Linux (x86_64) <code>aform-x86_64-unknown-linux-gnu.tar.gz</code> Linux (ARM64) <code>aform-aarch64-unknown-linux-gnu.tar.gz</code> macOS (Intel) <code>aform-x86_64-apple-darwin.tar.gz</code> macOS (Apple Silicon) <code>aform-aarch64-apple-darwin.tar.gz</code> Windows <code>aform-x86_64-pc-windows-msvc.zip</code>","path":["Installation"],"tags":[]},{"location":"installation/#from-source","level":2,"title":"From Source","text":"<p>Requires Rust 1.70+.</p> <pre><code># Install from GitHub\ncargo install --git https://github.com/rnabioco/aform-rs\n\n# Or clone and build\ngit clone https://github.com/rnabioco/aform-rs\ncd aform-rs\ncargo build --release\n</code></pre> <p>The binary will be at <code>target/release/aform</code>.</p>","path":["Installation"],"tags":[]},{"location":"usage/","level":1,"title":"Usage","text":"","path":["Usage"],"tags":[]},{"location":"usage/#opening-files","level":2,"title":"Opening Files","text":"<pre><code>aform alignment.stk\naform --color structure alignment.stk\naform --cluster --tree --conservation alignment.stk\n</code></pre> <p>Use <code>:e &lt;path&gt;</code> to open files from within the editor (Tab completes paths).</p>","path":["Usage"],"tags":[]},{"location":"usage/#modes","level":2,"title":"Modes","text":"<p>aform-rs uses vim-style modal editing:</p> Mode Enter Description Normal <code>Esc</code> Navigation and commands Insert <code>i</code> Edit sequence characters Visual <code>v</code> Block selection Visual Line <code>V</code> Row selection (whole sequences) Command <code>:</code> Ex-style commands Search <code>/</code> Pattern search","path":["Usage"],"tags":[]},{"location":"usage/#key-bindings","level":2,"title":"Key Bindings","text":"","path":["Usage"],"tags":[]},{"location":"usage/#navigation","level":3,"title":"Navigation","text":"Key Action <code>h/j/k/l</code> Move cursor <code>0</code> / <code>$</code> Line start/end <code>gg</code> / <code>G</code> First/last sequence <code>Ctrl-f/b</code> Page down/up <code>Ctrl-d/u</code> Half page down/up <code>w</code> / <code>b</code> Jump 10 columns right/left","path":["Usage"],"tags":[]},{"location":"usage/#editing-insert-mode","level":3,"title":"Editing (Insert Mode)","text":"Key Action <code>a-z</code>, <code>A-Z</code> Insert nucleotide <code>-</code>, <code>.</code> Insert gap <code>Backspace</code> Delete character","path":["Usage"],"tags":[]},{"location":"usage/#visual-mode-block-selection","level":3,"title":"Visual Mode (Block Selection)","text":"Key Action <code>v</code> Enter visual mode (block selection) <code>y</code> Yank (copy) selection <code>d</code> / <code>x</code> Delete selection <code>Esc</code> Exit visual mode <p>In Normal mode, <code>p</code> pastes the yanked block at the cursor position, replacing characters in place.</p>","path":["Usage"],"tags":[]},{"location":"usage/#visual-line-mode-sequence-selection","level":3,"title":"Visual Line Mode (Sequence Selection)","text":"Key Action <code>V</code> Enter visual line mode (selects whole rows) <code>j</code> / <code>k</code> Extend selection up/down <code>y</code> Yank selected sequences (with all annotations) <code>d</code> Delete selected sequences <code>Esc</code> Exit visual mode <p>Visual Line mode (<code>V</code>) selects complete sequences including their IDs and all annotations (#=GS, #=GR). When you yank with <code>y</code>, the clipboard contains a complete sub-alignment that can be used to create a new split pane (see Split Panes below).</p>","path":["Usage"],"tags":[]},{"location":"usage/#structure","level":3,"title":"Structure","text":"Key Action <code>gp</code> Go to base pair partner <code>[</code> / <code>]</code> Previous/next helix","path":["Usage"],"tags":[]},{"location":"usage/#split-panes","level":3,"title":"Split Panes","text":"Key Action <code>Ctrl-w s</code> Horizontal split <code>Ctrl-w v</code> Vertical split <code>Ctrl-w w</code> Switch between panes <code>Ctrl-w</code> + arrow Switch between panes <code>Ctrl-w q</code> Close current pane","path":["Usage"],"tags":[]},{"location":"usage/#commands","level":2,"title":"Commands","text":"Command Description <code>:w</code> Save file <code>:q</code> Quit <code>:wq</code> Save and quit <code>:e &lt;path&gt;</code> Open file (Tab completes path) <code>:color &lt;scheme&gt;</code> Set color scheme <code>:trim</code> Remove gap-only columns (both ends) <code>:trimleft</code> Remove leading gap-only columns <code>:trimright</code> Remove trailing gap-only columns <code>:upper</code> Convert to uppercase <code>:lower</code> Convert to lowercase <code>:t2u</code> Convert T to U <code>:u2t</code> Convert U to T <code>:noh</code> Clear search highlighting <code>:cluster</code> Cluster sequences by similarity <code>:uncluster</code> Restore original sequence order <code>:tree</code> Toggle dendrogram tree display <code>:collapse</code> Toggle collapse of identical sequences <code>:consensus</code> Toggle consensus sequence bar <code>:conservation</code> Toggle conservation level bar <code>:ruler</code> Toggle column ruler <code>:rownum</code> Toggle row numbers <code>:shortid</code> Toggle short IDs (strip /start-end suffix) <code>:type &lt;type&gt;</code> Set sequence type (rna/dna/protein/auto) <code>:split</code> Horizontal split (uses clipboard if linewise yank) <code>:vsplit</code> Vertical split (uses clipboard if linewise yank) <code>:new</code> Create new empty alignment in split pane <code>:only</code> Close split, keep current pane <code>:clipboard</code> Show clipboard contents (for debugging)","path":["Usage"],"tags":[]},{"location":"usage/#clustering","level":2,"title":"Clustering","text":"<p>Cluster sequences by pairwise similarity using <code>:cluster</code>. This reorders sequences using hierarchical agglomerative clustering (UPGMA algorithm with Hamming distance), grouping similar sequences together.</p> <p>Use <code>:tree</code> to show a dendrogram alongside the alignment, visualizing sequence relationships. The tree uses ASCII box-drawing characters and adapts to your terminal's color scheme.</p> <p>To restore the original sequence order, use <code>:uncluster</code>.</p>","path":["Usage"],"tags":[]},{"location":"usage/#color-schemes","level":2,"title":"Color Schemes","text":"<p>Set with <code>:color &lt;scheme&gt;</code> or <code>--color</code> flag.</p> Scheme Aliases Description <code>none</code> <code>off</code> No coloring <code>structure</code> <code>ss</code> Color by helix (rainbow) <code>base</code> <code>nt</code>, <code>protein</code>, <code>aa</code>, <code>residue</code> Color by nucleotide or amino acid <code>conservation</code> <code>cons</code> Color by column conservation <code>compensatory</code> <code>comp</code> Highlight compensatory mutations <p>The <code>base</code> scheme automatically uses nucleotide colors for RNA/DNA or amino acid colors (Taylor scheme) for protein sequences based on auto-detection.</p> <p></p>","path":["Usage"],"tags":[]},{"location":"usage/#sequence-type","level":2,"title":"Sequence Type","text":"<p>aform-rs auto-detects the sequence type (RNA, DNA, or Protein) when loading a file. Protein alignments automatically enable base coloring, consensus, and conservation bar. RNA/DNA alignments with SS_cons automatically enable structure coloring. You can also manually set the type:</p> Command Description <code>:type</code> Show current sequence type <code>:type rna</code> Set to RNA <code>:type dna</code> Set to DNA <code>:type protein</code> Set to Protein <code>:type auto</code> Auto-detect from alignment","path":["Usage"],"tags":[]},{"location":"usage/#annotation-bars","level":2,"title":"Annotation Bars","text":"<p>Toggle annotation bars below the alignment:</p> Command Description <code>:consensus</code> Show consensus sequence (uppercase = high conservation) <code>:conservation</code> Show conservation level with height-varying bars (▁▂▃▄▅▆▇█)","path":["Usage"],"tags":[]},{"location":"usage/#collapse-identical-sequences","level":2,"title":"Collapse Identical Sequences","text":"<p>Use <code>:collapse</code> to group identical sequences together, showing only one representative with a count indicator (e.g., <code>seq1 (5)</code> means 5 identical sequences). This reduces visual clutter in alignments with many duplicates.</p>","path":["Usage"],"tags":[]},{"location":"usage/#split-panes_1","level":2,"title":"Split Panes","text":"<p>aform-rs supports vim-style split panes for viewing and extracting sequences.</p>","path":["Usage"],"tags":[]},{"location":"usage/#basic-splits-viewport-only","level":3,"title":"Basic Splits (Viewport Only)","text":"<p>Use <code>Ctrl-w s</code> (horizontal) or <code>Ctrl-w v</code> (vertical) to split the view. Both panes show the same alignment with independent scroll positions. Use <code>Ctrl-w w</code> or <code>Ctrl-w</code> + arrow keys to switch between panes.</p>","path":["Usage"],"tags":[]},{"location":"usage/#extracting-sequences-to-a-new-file","level":3,"title":"Extracting Sequences to a New File","text":"<p>The real power of splits comes from combining Visual Line mode with splits to extract a subset of sequences:</p> <ol> <li>Select sequences - Navigate to the first sequence you want, press <code>V</code> to enter Visual Line mode, then use <code>j</code>/<code>k</code> to extend the selection</li> <li>Yank - Press <code>y</code> to copy. You'll see \"Yanked X of Y sequence(s) [linewise]\"</li> <li>Split - Type <code>:split</code> or <code>:vsplit</code>. The new pane opens with only the yanked sequences</li> <li>Save - In the new pane, type <code>:w subset.sto</code> to save the extracted sequences</li> </ol> <p>The yanked sub-alignment includes: - Selected sequences with their IDs - All #=GS annotations for those sequences - All #=GR annotations for those sequences - All #=GC column annotations (SS_cons, RF, etc.) - All #=GF file annotations</p>","path":["Usage"],"tags":[]},{"location":"usage/#example-workflow","level":3,"title":"Example Workflow","text":"<pre><code># Open a large alignment\naform alignment.sto\n\n# Navigate to row 10\n10G\n\n# Enter Visual Line mode\nV\n\n# Select rows 10-15\n5j\n\n# Yank the 6 sequences\ny\n\n# Create split with yanked sequences\n:split\n\n# (Now in secondary pane with 6 sequences)\n# Save to new file\n:w subset.sto\n\n# Close the split and return to original\n:q\n</code></pre>","path":["Usage"],"tags":[]},{"location":"usage/#split-commands","level":3,"title":"Split Commands","text":"Command Description <code>:split</code> / <code>:sp</code> Horizontal split <code>:vsplit</code> / <code>:vs</code> Vertical split <code>:new</code> Create empty alignment in new split <code>:only</code> Close all splits <code>:q</code> Close current pane (or quit if no split) <code>:w &lt;path&gt;</code> Save current pane's alignment","path":["Usage"],"tags":[]}]}